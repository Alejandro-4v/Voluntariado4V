<!-- Main content -->
<main class="dashboard-content bg-white py-5">
  <div class="container-lg">

    @if (isLoading) {
    <app-loading-spinner [text]="'Cargando información de contacto...'"></app-loading-spinner>
    } @else {
    <div @fadeIn>
      <!-- Main title -->
      <h1 class="fs-4 fw-bold mb-2 text-dark" @slideUp>
        Tienes algún problema o comentario sobre una actividad?
      </h1>

      <!-- Subtitle -->
      <p class="text-muted mb-5" @slideUp>
        Tus actividades pasadas
      </p>

      <!-- Past activities section -->
      @if (allActivities.length > 0) {
      <div class="mb-5" @slideUp>
        <!-- Carrusel de actividades pasadas -->
        <app-carrousel [items]="allActivities" cardType="activity" (cardClick)="openActivityModal($event)">
        </app-carrousel>
      </div>
      }

      <!-- Empty state for past activities -->
      @if (allActivities.length === 0) {
      <div class="alert alert-info mb-5" role="alert" @slideUp>
        <p class="mb-0">No tienes actividades pasadas aun.</p>
      </div>
      }

      <!-- Upcoming activities section -->
      <h2 class="fs-6 fw-bold mb-4 text-dark mt-5" @slideUp>
        Tus proximas actividades
      </h2>

      @if (upcomingActivities.length > 0) {
      <div class="mb-5" @slideUp>
        <!-- Carrusel de proximas actividades -->
        <app-carrousel [items]="upcomingActivities" cardType="activity" (cardClick)="openActivityModal($event)">
        </app-carrousel>
      </div>
      }

      <!-- Empty state for upcoming activities -->
      @if (upcomingActivities.length === 0) {
      <div class="alert alert-info mb-5" role="alert" @slideUp>
        <p class="mb-0">No hay proximas actividades disponibles.</p>
      </div>
      }

      <!-- Entities section -->
      <h2 class="fs-6 fw-bold mb-4 text-dark mt-5" @slideUp>
        Contacta con una entidad
      </h2>

      <p class="text-muted mb-4" @slideUp>
        Entidades que participan con nosotros
      </p>

      @if (entities.length > 0) {
      <div class="mb-5" @slideUp>
        <!-- Carrusel de entidades -->
        <app-carrousel [items]="entities" cardType="entity">
        </app-carrousel>
      </div>
      }

      <!-- Empty state for entities -->
      @if (entities.length === 0) {
      <div class="alert alert-info mb-5" role="alert" @slideUp>
        <p class="mb-0">No hay entidades disponibles.</p>
      </div>
      }
    </div>
    }
  </div>
</main>

<!-- Activity Modal -->
<app-activity-modal [isOpen]="isModalOpen" [activity]="selectedActivity" buttonType="informar"
  (close)="closeActivityModal()" (action)="onActivityAction()">
</app-activity-modal>