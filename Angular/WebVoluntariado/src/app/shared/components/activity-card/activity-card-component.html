<div class="card border-0 shadow-sm card-custom" (click)="onCardClick()">
	<!-- Image Container -->
	<div class="image-wrapper">
		<img [src]="image || 'assets/images/placeholder.svg'" alt="Activity Image" class="card-image-img"
			onerror="this.src='assets/images/placeholder.svg'">

		<!-- Gradient Overlay -->
		<div class="image-overlay"></div>

		<!-- Type Badge (Top Right) -->
		<div class="type-badge">
			@if (showIcon) {
			<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi"
				viewBox="0 0 16 16">
				<path [attr.d]="getIconPath()" />
			</svg>
			}
			<span>{{ type }}</span>
		</div>
	</div>

	<div class="card-body">
		<h5 class="card-title-custom" title="{{ name }}">{{ name }}</h5>

		<div class="slots-info">
			@if (slots > 0) {
			<span>{{ slots - filled }} / {{ slots }} plazas disponibles</span>
			<span [class.text-success]="getProgressPercentage() < 80"
				[class.text-warning]="getProgressPercentage() >= 80 && getProgressPercentage() < 100"
				[class.text-danger]="getProgressPercentage() >= 100">
				{{ getProgressPercentage() }}%
			</span>
			} @else {
			<span>Plazas ilimitadas</span>
			}
		</div>

		@if (slots > 0) {
		<div class="progress progress-custom">
			<div class="progress-bar" role="progressbar" [style.width.%]="getProgressPercentage()"
				[class.bg-success]="getProgressPercentage() < 80" [class.bg-warning]="getProgressPercentage() >= 80"
				[class.bg-danger]="getProgressPercentage() >= 100" aria-valuemin="0" aria-valuemax="100"></div>
		</div>
		}
	</div>
</div>