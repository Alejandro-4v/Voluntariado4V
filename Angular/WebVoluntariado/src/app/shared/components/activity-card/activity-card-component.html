<div class="card border-0 shadow-sm overflow-hidden" style="width: 18rem; border-radius: 1rem; cursor: pointer;"
	[style.background]="customBackground || '#fff'" (click)="onCardClick()">
	<!-- Image Container -->
	<div class="position-relative" style="height: 200px;">
		<div class="w-100 h-100" [ngStyle]="{
      background: image ? 'url(' + image + ') center/' + imageFit + ' no-repeat' : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
    }"></div>

		<!-- Overlay Icon (Dynamic) -->
		<div *ngIf="showIcon"
			class="position-absolute bottom-0 start-0 m-3 bg-white rounded-circle d-flex align-items-center justify-content-center shadow-sm"
			style="width: 40px; height: 40px; opacity: 0.9;">
			<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#fd7e14" class="bi"
				viewBox="0 0 16 16">
				<path [attr.d]="getIconPath()" />
			</svg>
		</div>
	</div>

	<div class="card-body p-3">
		<h5 class="card-title fw-bold mb-2 text-dark"
			style="font-size: 0.95rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{ name }}</h5>
		<p class="text-muted mb-2" *ngIf="slots > 0" style="font-size: 0.85rem; margin-bottom: 0.5rem;">{{ slots }}
			plazas - {{ type }}</p>
		<p class="text-muted mb-2" *ngIf="slots === 0" style="font-size: 0.85rem; margin-bottom: 0.5rem;">{{ type }}</p>

		<div class="progress" style="height: 4px;" *ngIf="slots > 0">
			<div class="progress-bar" role="progressbar" [style.width.%]="getProgressPercentage()"
				[style.background-color]="'#0d47a1'" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
		</div>
	</div>
</div>